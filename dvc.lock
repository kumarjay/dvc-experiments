data_load:
  cmd: python src/data_load.py --config=params.yaml
  deps:
  - path: src/data_load.py
    md5: 2e710b9730a8af7e7e506ab7da67b01f
  params:
    params.yaml:
      data_load:
        raw_data_path: data/wine.csv
        classes_names_path: data/classes.json
  outs:
  - path: data/classes.json
    md5: 9b71ea3088b657b92f94d349675d4a85
  - path: data/wine.csv
    md5: 0fe5de805f87b3142b78cba32f82ce20
feature_extraction:
  cmd: python src/featurization.py --config=params.yaml
  deps:
  - path: data/wine.csv
    md5: 0fe5de805f87b3142b78cba32f82ce20
  - path: src/featurization.py
    md5: bec40fa5d03bde7b6f949945d371c71d
  params:
    params.yaml:
      data_load:
        raw_data_path: data/wine.csv
        classes_names_path: data/classes.json
      featurize:
        features_path: data/wine_featurized.csv
        target_column: target
  outs:
  - path: data/wine_featurized.csv
    md5: bee471a4acc0829f50727d26532ff9da
split_dataset:
  cmd: python src/split_dataset.py --config=params.yaml
  deps:
  - path: data/wine_featurized.csv
    md5: bee471a4acc0829f50727d26532ff9da
  - path: src/split_dataset.py
    md5: 2f6ba8c9967066a6465cf4aa972770ee
  params:
    params.yaml:
      data_split:
        test_size: 0.2
        train_path: data/train.csv
        test_path: data/test.csv
      featurize:
        features_path: data/wine_featurized.csv
        target_column: target
  outs:
  - path: data/test.csv
    md5: d1aac45c3c6e80699c5966900d124b29
  - path: data/train.csv
    md5: 103afe953e11c1bf2b6f6e78184a99d5
train:
  cmd: python src/train.py --config=params.yaml
  deps:
  - path: data/train.csv
    md5: 103afe953e11c1bf2b6f6e78184a99d5
  - path: src/train.py
    md5: 0df223a5587f9c4541f12909daa379e9
  params:
    params.yaml:
      data_split:
        test_size: 0.2
        train_path: data/train.csv
        test_path: data/test.csv
      train:
        model_path: data/model.joblib
  outs:
  - path: data/model.joblib
    md5: b143e9e7ff811b772da57dc4a75e2c5e
evaluate:
  cmd: python src/evaluate.py --config=params.yaml
  deps:
  - path: data/classes.json
    md5: 9b71ea3088b657b92f94d349675d4a85
  - path: data/model.joblib
    md5: b143e9e7ff811b772da57dc4a75e2c5e
  - path: data/test.csv
    md5: d1aac45c3c6e80699c5966900d124b29
  - path: src/evaluate.py
    md5: 1cf78e04c3da645efc059ab704c6f69d
  params:
    params.yaml:
      data_load:
        raw_data_path: data/wine.csv
        classes_names_path: data/classes.json
      data_split:
        test_size: 0.2
        train_path: data/train.csv
        test_path: data/test.csv
      evaluate:
        metrics_file: data/metrics.json
        confusion_matrix: data/cm.csv
      train:
        model_path: data/model.joblib
  outs:
  - path: data/cm.csv
    md5: 3ee2c625345a5f386c80c753a0757979
  - path: data/metrics.json
    md5: 3329ba1a6b18407f725a1e25a5500560
